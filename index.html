<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, height=device-height, user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1" name="viewport">
    <link rel="stylesheet" href="css/styles.css">
    <title>RG Rail Map Maker</title>
</head>
<body>
    <script src="./js/app.js" type="module"></script>
    <script src="./js/options.js"></script>
    <script src="./js/export/export.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvg/3.0.9/umd.js" integrity="sha512-Wu9XXg78PiNE0DI4Z80lFKlEpLq7yGjquc0I35Nz+sYmSs4/oNHaSW8ACStXBoXciqwTLnSINqToeWP3iNDGmQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- svg-exportJS plugin -->
    <script src="https://sharonchoong.github.io/svg-exportJS/svg-export.min.js"></script>
    <svg id="svg-canvas" height="4000" width="4000" xmlns="http://www.w3.org/2000/svg">
    </svg>
    <button id="show" class="main" onclick="showOptions('options'); showOptions('hide');">Show Options</button>
    <button id="hide" class="main" onclick="hideOptions('options'); hideOptions('hide');">hide Options</button>
    <div id="options" onmousemove="resetSVG();">  
        <a id="exportmap" download="unnamedtrainmap.svg" class="button" onclick="hideOptions('options'); hideOptions('hide'); showOptions('export-section'); exportSVG();">Exporter la carte en SVG</a>
        <button id="" onclick="showEditor('options', 'st-list'); hideOptions('hide');" class="button" href="">Editer une Station</button>
        <button id="" onclick="showEditor('options', 'ln-list'); hideOptions('options'); hideOptions('hide');" class="button" href="">Editer une Ligne</button>
        <button id="" onclick="hideOptions('options'); hideOptions('hide');" class="button" href="">Paramètres</button>
        <button id="" onclick="hideOptions('options'); hideOptions('hide');" class="button" href="">Quitter</button>
    </div>
    <section id="st-list" onmouseenter="">
        <div class="head">
            <h1 class="main-title">Liste des station</h1>
            <button class="return" onclick="hideOptions('st-list');"> <span class="return-obj"> < </span>  Retour </button>    
        </div>
        <div id="content"></div>
    </section>
    <section id="st-editor">
        <button class="return" onclick="hideOptions('st-editor');"> <span class="return-obj"> < </span>  Retour </button>
        <h1 class="main-title">éditer une station</h1>
        <input id="first" class="stname" type="text" placeholder="Nom principal">
        <input id="second" class="stname" type="text" placeholder="Nom secondaire">
        <input id="xPos" class="stname" type="text" placeholder="Position X">
        <input id="yPos" class="stname" type="text" placeholder="Position Y">
        <div class="dropdowns">
        <div class="connexion-type">
            <p>Type de connexion</p>
            <button id="cx-btn" onclick="showOptions('myDropdown');" ondblclick="hideOptions('myDropdown');" class="dropbtn">Type de connexion</button>
            <div id="myDropdown" class="dropdown-content" onmouseleave="hideOptions('myDropdown');">
              <a id="csa" onclick="document.getElementById('cx-btn').innerHTML = 'a'; hideOptions('myDropdown');">A</a>
              <a id="csb" onclick="document.getElementById('cx-btn').innerHTML = 'b'; hideOptions('myDropdown');">B</a>
            </div>
          </div> 
          <div class="style-type">
            <p>Type de connexion</p>
            <button id="style-btn" onclick="showOptions('styleDropdown');" ondblclick="hideOptions('styleDropdown');" class="dropbtn">Style de la station</button>
            <div id="styleDropdown" class="dropdown-content" onmouseleave="hideOptions('styleDropdown');">
              <a id="sa" onclick="document.getElementById('style-btn').innerHTML = 'rect'; hideOptions('styleDropdown');"> Rectangle</a>
              <a id="sb" onclick="document.getElementById('style-btn').innerHTML = 'circle'; hideOptions('styleDropdown');"> Cercle</a>
            </div>
          </div> 
        </div>
        <a id="save"> Sauvegarder </a>
    </section>
    <section id="ln-editor">
      <div class="head">
        <h1 class="main-title">Editer une Ligne</h1>
        <button class="return" onclick="hideOptions('ln-editor');"> <span class="return-obj"> < </span>  Retour </button>    
      </div>
      <input id="name" class="lnname" type="text" placeholder="Nom">
      <input id="thicness" class="lnname" type="text" inputmode="numeric" pattern="[0-9]" placeholder="eppaisseur">
      <input id="color" class="lame" type="color" placeholder="couleur">
      <a id="ln_save"> Sauvegarder </a>
    </section>
    <section id="ln-list">
      <div class="head">
          <h1 class="main-title">Liste des Lignes</h1>
          <button class="return" onclick="hideOptions('ln-list');"> <span class="return-obj"> < </span>  Retour </button>    
      </div>
      <div id="ln_content"></div>
  </section>
  <section id="export-section">
    <div id="preview">
      <svg id="svg-preview"></svg>
    </div>
    <div id="content">
      <div class="head">
        <h1 class="main-title">Exporter la carte</h1>
        <button class="return" onclick="hideOptions('ln-editor');"> <span class="return-obj"> < </span>  Retour </button>    
      </div>
      <div id="export-menu">
        <p>Exporter vers</p>
        <button id="export-btn" onclick="showOptions('exportDropdown');" ondblclick="hideOptions('exportDropdown');" class="dropbtn">Style de la station</button>
        <div id="exportDropdown" class="dropdown-content" onmouseleave="hideOptions('styleDropdown');">
          <a id="sa" hideOptions('exportDropdown'); exportSVG();">SVG</a>
          <a id="sb" hideOptions('exportDropdown'); exportPNG();">PNG/a>
          <a id="sa" hideOptions('exportDropdown'); exportJPG();">JPG</a>
        </div>
      </div>
    </div>
  </section>
</body>
</html>
